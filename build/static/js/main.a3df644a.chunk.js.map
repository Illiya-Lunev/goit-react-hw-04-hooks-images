{"version":3,"sources":["components/Modal/modal.module.css","components/ImageGalleryItem/imageGalleryItem.module.css","components/ImageGallery/imageGallery.module.css","components/Loader/loader.module.css","components/Button/Button.module.css","components/Searchbar/searchBar.module.css","components/Modal/Modal.jsx","components/Searchbar/SearchBar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/service/api.js","components/Loader/Loader.jsx","components/Button/Button.jsx","App.js","index.js"],"names":["module","exports","modalRoot","document","querySelector","Modal","state","searchImg","handleKeyDown","e","code","props","onClose","handleBackdropClick","currentTarget","target","window","addEventListener","this","removeEventListener","createPortal","className","s","Overlay","onClick","children","Component","SearchBar","query","handleNameChange","setState","value","toLowerCase","handleSubmit","preventDefault","trim","toast","error","onSubmit","Searchbar","SearchForm","type","SearchForm_button","SearchForm_button_label","onChange","SearchForm_input","autoComplete","autoFocus","placeholder","ImageGalleryItem","url","tags","toggleModal","handleSetLargeImageURL","largeImageURL","src","alt","ImageGalleryItem_image","ImageGallery","hits","imageGallery","map","id","webformatURL","fetchImages","nextQuery","page","fetch","then","res","ok","json","Promise","reject","Error","Loader","loader_container","color","height","width","timeout","Button","App","status","showModal","totalHits","getImages","data","prevState","scrollTo","top","documentElement","scrollHeight","behavior","catch","handleLoadMore","handleSearchForm","prevProps","prevQuery","autoClose","theme","title","message","length","img_Modal","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a3df644a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"modal_Overlay__1uvNp\",\"Modal\":\"modal_Modal__3qTgi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"imageGalleryItem_ImageGalleryItem__1H2US\",\"ImageGalleryItem_image\":\"imageGalleryItem_ImageGalleryItem_image__1XcDy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"imageGallery_imageGallery__2iCmI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader_container\":\"loader_loader_container__1YlvG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3-F_o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"searchBar_App__2DQIf\",\"Searchbar\":\"searchBar_Searchbar__20Vg5\",\"SearchForm\":\"searchBar_SearchForm__3cj8n\",\"SearchForm_button\":\"searchBar_SearchForm_button__3s5ld\",\"SearchForm_button_label\":\"searchBar_SearchForm_button_label__3lT6z\",\"SearchForm_input\":\"searchBar_SearchForm_input__3a61p\",\"title\":\"searchBar_title__YWVr2\",\"img_Modal\":\"searchBar_img_Modal__1PhCU\"};","import { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport s from './modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\nexport default class Modal extends Component {\r\n\r\n  state = {\r\n    searchImg: '',\r\n  }\r\n\r\n  componentDidMount() {\r\n        window.addEventListener('keydown', this.handleKeyDown);\r\n     \r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown',this.handleKeyDown)\r\n \r\n  }\r\n  \r\n  // Ð—Ð°ÐºÑ€Ñ‹Ñ‚Ð¸Ðµ Ð¿Ð¾ Esc\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n// Ð—Ð°ÐºÑ€Ñ‹Ñ‚Ð¸Ðµ Ð¿Ð¾ Ð‘ÐµÐºÐ´Ñ€Ð¾Ð¿Ñƒ\r\n  handleBackdropClick = e =>{\r\nif(e.currentTarget === e.target){\r\n  this.props.onClose();\r\n}\r\n\r\n   \r\n\r\n  }\r\n  render() {\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\r\n      <div className={s.Modal}>{this.props.children}</div>\r\n    </div>,\r\n    modalRoot,\r\n    );\r\n  }\r\n}\r\n","import { Component } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport s from './searchBar.module.css';\r\n\r\nexport default class SearchBar extends Component {\r\n  state = { query: '' };\r\n\r\n  handleNameChange = e => {\r\n    this.setState({ query: e.currentTarget.value.toLowerCase() });\r\n    \r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    if(this.state.query.trim() ===''){\r\n        return   toast.error('ðŸ”¥Ups,Enter image name!ðŸ”¥');\r\n    }\r\n    this.props.onSubmit(this.state.query)\r\n    this.setState({query:''})\r\n  \r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={s.SearchForm_button}>\r\n            <span className={s.SearchForm_button_label}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            value={this.state.query}\r\n            onChange={this.handleNameChange}\r\n            className={s.SearchForm_input}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import s from './imageGalleryItem.module.css'\r\n\r\nconst ImageGalleryItem = ({\r\n  url,\r\n  tags,\r\n  toggleModal,\r\n  handleSetLargeImageURL,\r\n  largeImageURL,\r\n}) => {\r\n  const handleClick = e => {\r\n    toggleModal();\r\n    handleSetLargeImageURL({ largeImageURL, tags });\r\n  };\r\n\r\n  return (\r\n    <li className={s.ImageGalleryItem}>\r\n      <img\r\n        src={url}\r\n        alt={tags}\r\n        className={s.ImageGalleryItem_image}\r\n        onClick={handleClick}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default ImageGalleryItem;","\r\nimport  s from './imageGallery.module.css'\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\n\r\n\r\n\r\nconst ImageGallery = ({ hits, toggleModal, handleSetLargeImageURL }) => {\r\n  return (\r\n    <ul className={s.imageGallery}>\r\n      {hits.map(({ id, webformatURL, largeImageURL, tags}) => (\r\n        <ImageGalleryItem\r\n          key={id}\r\n          url={webformatURL}\r\n          tags={tags}\r\n          toggleModal={toggleModal}\r\n          largeImageURL={largeImageURL}\r\n          handleSetLargeImageURL={handleSetLargeImageURL}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default ImageGallery;\r\n","\r\n  const BASE_URL = 'https://pixabay.com/api/';\r\n  const API_KEY = '22951340-683a641f2fde08e18261bbe3d';\r\n  \r\nexport const fetchImages = ( { nextQuery, page } ) => {\r\n    return fetch(\r\n      `${BASE_URL}/?q=${nextQuery}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\r\n    ).then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n  \r\n      return Promise.reject(new Error(\"Oops, nothing was found!\"));\r\n    })\r\n  }\r\n  \r\n\r\n","import L from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport s from './loader.module.css';\r\n\r\nfunction Loader() {\r\n  return (\r\n    <div className={s.loader_container}>\r\n      <L\r\n        type=\"ThreeDots\"\r\n        color=\"#00BFFF\"\r\n        height={200}\r\n        width={200}\r\n        timeout={3000}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Loader;\r\n","import s from './Button.module.css';\r\n\r\nfunction Button({onClick}) {\r\n  return (\r\n    <button type=\"button\" className={s.Button} onClick={() => onClick ()} >\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default Button;","import { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { Component } from 'react';\nimport Modal from './components/Modal/Modal';\nimport SearchBar from './components/Searchbar/SearchBar';\nimport s from './components/Searchbar/searchBar.module.css';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport { fetchImages } from './components/service/api';\nimport Loader from './components/Loader/Loader.jsx';\nimport Button from './components/Button/Button.jsx';\n\nexport default class App extends Component {\n  state = {\n    query: '',\n    hits: [],\n    page: 1,\n    error: null,\n    status: 'idle',\n    showModal: false,\n    largeImageURL: '',\n    tags: '',\n    totalHits: 0,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevState.query;\n    const nextQuery = this.state.query;\n    const page = this.state.page;\n\n    if (nextQuery !== prevQuery) {\n      this.setState({ status: 'pending' });\n      this.setState({ page: 1, hits: [] });\n      this.getImages({ nextQuery: nextQuery, page: 1 });\n    }\n\n    if (page !== prevState.page && page !== 1) {\n      this.setState({ status: 'pending' });\n      this.getImages({ nextQuery: nextQuery, page: page });\n    }\n  }\n\n  getImages = ({ nextQuery, page }) => {\n    fetchImages({ nextQuery, page })\n      .then(data => {\n     \n        this.setState({ status: 'resolved', totalHits: data.totalHits });\n\n        this.setState(prevState => ({\n          hits: [...prevState.hits, ...data.hits],\n        }));\n      }).then(() => {\n        return window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      }).catch(error => this.setState({ error, status: 'rejected' }))\n      \n  };\n\n  handleLoadMore = () => {\n    this.setState(prevState => ({\n      page: prevState.page + 1,\n    }));\n  };\n\n  handleSearchForm =  query => {\n    this.setState({  query });\n  };\n\n  handleSetLargeImageURL = ({ largeImageURL, tags }) => {\n    this.setState({ largeImageURL, tags });\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n  };\n  render() {\n    const {\n      status,\n      error,\n      hits,\n      query,\n      showModal,\n      largeImageURL,\n      tags,\n    } = this.state;\n\n    if (status === 'idle') {\n      return (\n        <>\n          <SearchBar onSubmit={this.handleSearchForm} />\n          <ToastContainer autoClose={3000} theme={'colored'} />\n          <div className={s.title}>Enter name image!</div>\n        </>\n      );\n    }\n\n    if (status === 'pending') {\n      return (\n        <div>\n       \n          <Loader />\n        </div>\n      );\n    }\n\n    if (status === 'rejected') {\n      return <h1>{error.message}</h1>;\n    }\n\n    if (status === 'resolved') {\n      return (\n        <div className={s.App}>\n          <SearchBar onSubmit={this.handleSearchForm} />\n          <ImageGallery\n            hits={hits}\n            toggleModal={this.toggleModal}\n            handleSetLargeImageURL={this.handleSetLargeImageURL}\n          />\n          {hits.length  !== 0 && (\n            <Button onClick={this.handleLoadMore} />\n          )}\n          {hits.length === 0 && <h1 className={s.title}>No results { query} were found for your search....ðŸ˜­</h1>}\n          {showModal && (\n            <Modal onClose={this.toggleModal}>\n              <img className={s.img_Modal} src={largeImageURL} alt={tags} />\n            </Modal>\n          )}\n        </div>\n      );\n    }\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}