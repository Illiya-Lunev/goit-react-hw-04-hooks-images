{"version":3,"sources":["components/Modal/modal.module.css","components/ImageGalleryItem/imageGalleryItem.module.css","components/ImageGallery/imageGallery.module.css","components/Loader/loader.module.css","components/Button/Button.module.css","components/Searchbar/searchBar.module.css","components/Modal/Modal.jsx","components/Searchbar/SearchBar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Loader/Loader.jsx","components/Button/Button.jsx","App.js","components/service/api.js","index.js"],"names":["module","exports","modalRoot","document","querySelector","Modal","onClose","children","useEffect","window","addEventListener","handleKeyDown","removeEventListener","e","code","createPortal","className","s","Overlay","onClick","currentTarget","target","SearchBar","onSubmit","useState","query","setQuery","Searchbar","SearchForm","preventDefault","trim","toast","error","type","SearchForm_button","SearchForm_button_label","value","onChange","toLowerCase","SearchForm_input","autoComplete","autoFocus","placeholder","ImageGalleryItem","url","tags","toggleModal","handleSetLargeImageURL","largeImageURL","src","alt","ImageGalleryItem_image","ImageGallery","hits","imageGallery","map","id","webformatURL","Loader","loader_container","color","height","width","timeout","Button","App","setHits","page","setPage","setError","status","setStatus","showModal","setShowModal","setLargeImageURL","setTags","setTotalHits","getImages","nextQuery","fetch","then","res","ok","json","Promise","reject","Error","fetchImages","data","totalHits","prev","scrollTo","top","documentElement","scrollHeight","behavior","catch","handleSearchForm","prevState","autoClose","theme","title","message","length","img_Modal","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ee540904.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"modal_Overlay__1uvNp\",\"Modal\":\"modal_Modal__3qTgi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"imageGalleryItem_ImageGalleryItem__1H2US\",\"ImageGalleryItem_image\":\"imageGalleryItem_ImageGalleryItem_image__1XcDy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"imageGallery_imageGallery__2iCmI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader_container\":\"loader_loader_container__1YlvG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3-F_o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"searchBar_App__2DQIf\",\"Searchbar\":\"searchBar_Searchbar__20Vg5\",\"SearchForm\":\"searchBar_SearchForm__3cj8n\",\"SearchForm_button\":\"searchBar_SearchForm_button__3s5ld\",\"SearchForm_button_label\":\"searchBar_SearchForm_button_label__3lT6z\",\"SearchForm_input\":\"searchBar_SearchForm_input__3a61p\",\"title\":\"searchBar_title__YWVr2\",\"img_Modal\":\"searchBar_img_Modal__1PhCU\"};","import { useEffect } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport s from './modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\nexport default function  Modal({onClose,children}){\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return () => {\r\n      window.removeEventListener('keydown',handleKeyDown)\r\n    }\r\n  })\r\n\r\n\r\nconst handleBackdropClick = e =>{\r\n  if(e.currentTarget === e.target){\r\n    onClose();\r\n  }\r\n}\r\n\r\nconst handleKeyDown = e => {\r\n      if (e.code === 'Escape') {\r\n       onClose();\r\n      }\r\n    };\r\n  \r\n\r\n  return createPortal(\r\n          <div className={s.Overlay} onClick={handleBackdropClick}>\r\n          <div className={s.Modal}>{children}</div>\r\n        </div>,\r\n        modalRoot,\r\n        );\r\n}","// import { Component } from 'react';\r\nimport { useState } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport s from './searchBar.module.css';\r\n\r\nexport default function SearchBar({ onSubmit }) {\r\n  const [query, setQuery] = useState('');\r\n\r\n  const handleNameChange = e => {\r\n    setQuery(e.currentTarget.value.toLowerCase());\r\n  };\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    if (query.trim() === '') {\r\n      return toast.error('ðŸ”¥Ups,Enter image name!ðŸ”¥');\r\n    }\r\n    onSubmit(query);\r\n    setQuery('');\r\n  };\r\n\r\n  return (\r\n    <header className={s.Searchbar}>\r\n      <form className={s.SearchForm} onSubmit={handleSubmit}>\r\n        <button type=\"submit\" className={s.SearchForm_button}>\r\n          <span className={s.SearchForm_button_label}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          value={query}\r\n          onChange={handleNameChange}\r\n          className={s.SearchForm_input}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n","import s from './imageGalleryItem.module.css'\r\n\r\nconst ImageGalleryItem = ({\r\n  url,\r\n  tags,\r\n  toggleModal,\r\n  handleSetLargeImageURL,\r\n  largeImageURL,\r\n}) => {\r\n  const handleClick = e => {\r\n    toggleModal();\r\n    handleSetLargeImageURL({ largeImageURL, tags });\r\n  };\r\n\r\n  return (\r\n    <li className={s.ImageGalleryItem}>\r\n      <img\r\n        src={url}\r\n        alt={tags}\r\n        className={s.ImageGalleryItem_image}\r\n        onClick={handleClick}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default ImageGalleryItem;","\r\nimport  s from './imageGallery.module.css'\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\n\r\n\r\n\r\nconst ImageGallery = ({ hits, toggleModal, handleSetLargeImageURL }) => {\r\n  return (\r\n    <ul className={s.imageGallery}>\r\n      {hits.map(({ id, webformatURL, largeImageURL, tags}) => (\r\n        <ImageGalleryItem\r\n          key={id}\r\n          url={webformatURL}\r\n          tags={tags}\r\n          toggleModal={toggleModal}\r\n          largeImageURL={largeImageURL}\r\n          handleSetLargeImageURL={handleSetLargeImageURL}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default ImageGallery;\r\n","import L from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport s from './loader.module.css';\r\n\r\nfunction Loader() {\r\n  return (\r\n    <div className={s.loader_container}>\r\n      <L\r\n        type=\"ThreeDots\"\r\n        color=\"#00BFFF\"\r\n        height={200}\r\n        width={200}\r\n        timeout={3000}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Loader;\r\n","import s from './Button.module.css';\r\n\r\nfunction Button({onClick}) {\r\n  return (\r\n    <button type=\"button\" className={s.Button} onClick={() => onClick ()} >\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default Button;","import { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { useState, useEffect } from 'react';\nimport Modal from './components/Modal/Modal';\nimport SearchBar from './components/Searchbar/SearchBar';\nimport s from './components/Searchbar/searchBar.module.css';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport { fetchImages } from './components/service/api';\nimport Loader from './components/Loader/Loader.jsx';\nimport Button from './components/Button/Button.jsx';\n\nexport default function App() {\n  const [query, setQuery] = useState('');\n  const [hits, setHits] = useState([]);\n  const [page, setPage] = useState(1);\n  const [error, setError] = useState(null);\n  const [status, setStatus] = useState('idle');\n  const [showModal, setShowModal] = useState(false);\n  const [largeImageURL, setLargeImageURL] = useState('');\n  const [tags, setTags] = useState('');\n  // eslint-disable-next-line no-unused-vars\n  const [totalHits, setTotalHits] = useState(0);\n\n  useEffect(() => {\n    if (query.trim('') === '') {\n      return;\n    }\n    setStatus('pending');\n    setPage(1);\n    setHits([]);\n    getImages({ nextQuery: query, page: 1 });\n  }, [query]);\n\n  useEffect(() => {\n    if (page === 1) {\n      return;\n    }\n    setStatus('pending');\n    getImages({ nextQuery: query, page: page });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [page]);\n\n  const getImages = ({ nextQuery, page }) => {\n    fetchImages({ nextQuery, page })\n      .then(data => {\n        setStatus('resolved');\n        setTotalHits(data.totalHits);\n\n        setHits(prev => [...prev, ...data.hits]);\n      })\n      .then(() => {\n        return window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      })\n      .catch(error => {\n        setError(error);\n        setStatus('rejected');\n      });\n  };\n\n  const handleLoadMore = () => {\n    setPage(prevState => prevState + 1);\n  };\n\n  const handleSearchForm = query => {\n    setQuery(query);\n  };\n\n  const handleSetLargeImageURL = ({ largeImageURL, tags }) => {\n    setLargeImageURL(largeImageURL);\n    setTags(tags);\n  };\n\n  const toggleModal = () => {\n    setShowModal(prevState => !prevState);\n  };\n\n  if (status === 'idle') {\n    return (\n      <>\n        <SearchBar onSubmit={handleSearchForm} />\n        <ToastContainer autoClose={3000} theme={'colored'} />\n        <h1 className={s.title}>Enter name image!</h1>\n      </>\n    );\n  }\n\n  if (status === 'pending') {\n    return (\n      <div>\n        <Loader />\n      </div>\n    );\n  }\n\n  if (status === 'rejected') {\n    return <h2>{error.message}</h2>;\n  }\n\n  if (status === 'resolved') {\n    return (\n      <div className={s.App}>\n        <SearchBar onSubmit={handleSearchForm} />\n        <ImageGallery\n          hits={hits}\n          toggleModal={toggleModal}\n          handleSetLargeImageURL={handleSetLargeImageURL}\n        />\n        {hits.length !== 0 && <Button onClick={handleLoadMore} />}\n        {hits.length === 0 && (\n          <h1 className={s.title}>\n            No results {query} were found for your search....ðŸ˜­\n          </h1>\n        )}\n        {showModal && (\n          <Modal onClose={toggleModal}>\n            <img className={s.img_Modal} src={largeImageURL} alt={tags} />\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\n","\r\n  const BASE_URL = 'https://pixabay.com/api/';\r\n  const API_KEY = '22951340-683a641f2fde08e18261bbe3d';\r\n  \r\nexport const fetchImages = ( { nextQuery, page } ) => {\r\n    return fetch(\r\n      `${BASE_URL}/?q=${nextQuery}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\r\n    ).then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n  \r\n      return Promise.reject(new Error(\"Oops, nothing was found!\"));\r\n    })\r\n  }\r\n  \r\n\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}