(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={Overlay:"modal_Overlay__1uvNp",Modal:"modal_Modal__3qTgi"}},11:function(e,t,a){e.exports={ImageGalleryItem:"imageGalleryItem_ImageGalleryItem__1H2US",ImageGalleryItem_image:"imageGalleryItem_ImageGalleryItem_image__1XcDy"}},13:function(e,t,a){e.exports={imageGallery:"imageGallery_imageGallery__2iCmI"}},15:function(e,t,a){e.exports={loader_container:"loader_loader_container__1YlvG"}},16:function(e,t,a){e.exports={Button:"Button_Button__3-F_o"}},4:function(e,t,a){e.exports={App:"searchBar_App__2DQIf",Searchbar:"searchBar_Searchbar__20Vg5",SearchForm:"searchBar_SearchForm__3cj8n",SearchForm_button:"searchBar_SearchForm_button__3s5ld",SearchForm_button_label:"searchBar_SearchForm_button_label__3lT6z",SearchForm_input:"searchBar_SearchForm_input__3a61p",title:"searchBar_title__YWVr2",img_Modal:"searchBar_img_Modal__1PhCU"}},44:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(5),o=a.n(c),l=a(12),s=a(3),i=a(8),u=(a(21),a(10)),m=a.n(u),j=a(1),h=document.querySelector("#modal-root");function b(e){var t=e.onClose,a=e.children;Object(r.useEffect)((function(){return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}}));var n=function(e){"Escape"===e.code&&t()};return Object(c.createPortal)(Object(j.jsx)("div",{className:m.a.Overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(j.jsx)("div",{className:m.a.Modal,children:a})}),h)}var g=a(4),d=a.n(g);function _(e){var t=e.onSubmit,a=Object(r.useState)(""),n=Object(s.a)(a,2),c=n[0],o=n[1];return Object(j.jsx)("header",{className:d.a.Searchbar,children:Object(j.jsxs)("form",{className:d.a.SearchForm,onSubmit:function(e){if(e.preventDefault(),""===c.trim())return i.b.error("\ud83d\udd25Ups,Enter image name!\ud83d\udd25");t(c),o("")},children:[Object(j.jsx)("button",{type:"submit",className:d.a.SearchForm_button,children:Object(j.jsx)("span",{className:d.a.SearchForm_button_label,children:"Search"})}),Object(j.jsx)("input",{value:c,onChange:function(e){o(e.currentTarget.value.toLowerCase())},className:d.a.SearchForm_input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}var O=a(13),f=a.n(O),p=a(11),x=a.n(p),S=function(e){var t=e.url,a=e.tags,r=e.toggleModal,n=e.handleSetLargeImageURL,c=e.largeImageURL;return Object(j.jsx)("li",{className:x.a.ImageGalleryItem,children:Object(j.jsx)("img",{src:t,alt:a,className:x.a.ImageGalleryItem_image,onClick:function(e){r(),n({largeImageURL:c,tags:a})}})})},v=function(e){var t=e.hits,a=e.toggleModal,r=e.handleSetLargeImageURL;return Object(j.jsx)("ul",{className:f.a.imageGallery,children:t.map((function(e){var t=e.id,n=e.webformatURL,c=e.largeImageURL,o=e.tags;return Object(j.jsx)(S,{url:n,tags:o,toggleModal:a,largeImageURL:c,handleSetLargeImageURL:r},t)}))})},y=a(14),I=a.n(y),w=(a(43),a(15)),F=a.n(w);var L=function(){return Object(j.jsx)("div",{className:F.a.loader_container,children:Object(j.jsx)(I.a,{type:"ThreeDots",color:"#00BFFF",height:200,width:200,timeout:3e3})})},N=a(16),B=a.n(N);var k=function(e){var t=e.onClick;return Object(j.jsx)("button",{type:"button",className:B.a.Button,onClick:function(){return t()},children:"Load more"})};function C(){var e=Object(r.useState)(""),t=Object(s.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)([]),o=Object(s.a)(c,2),u=o[0],m=o[1],h=Object(r.useState)(1),g=Object(s.a)(h,2),O=g[0],f=g[1],p=Object(r.useState)(null),x=Object(s.a)(p,2),S=x[0],y=x[1],I=Object(r.useState)("idle"),w=Object(s.a)(I,2),F=w[0],N=w[1],B=Object(r.useState)(!1),C=Object(s.a)(B,2),G=C[0],U=C[1],E=Object(r.useState)(""),M=Object(s.a)(E,2),R=M[0],Q=M[1],T=Object(r.useState)(""),D=Object(s.a)(T,2),q=D[0],A=D[1],H=Object(r.useState)(0),P=Object(s.a)(H,2),z=(P[0],P[1]);Object(r.useEffect)((function(){""!==a.trim("")&&(N("pending"),f(1),m([]),J({nextQuery:a,page:1}))}),[a]),Object(r.useEffect)((function(){1!==O&&(N("pending"),J({nextQuery:a,page:O}))}),[O]);var J=function(e){(function(e){var t=e.nextQuery,a=e.page;return fetch("".concat("https://pixabay.com/api/","/?q=").concat(t,"&page=").concat(a,"&key=").concat("22951340-683a641f2fde08e18261bbe3d","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.ok?e.json():Promise.reject(new Error("Oops, nothing was found!"))}))})({nextQuery:e.nextQuery,page:e.page}).then((function(e){N("resolved"),z(e.totalHits),m((function(t){return[].concat(Object(l.a)(t),Object(l.a)(e.hits))}))})).then((function(){return window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(e){y(e),N("rejected")}))},V=function(e){n(e)},Y=function(){U((function(e){return!e}))};return"idle"===F?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(_,{onSubmit:V}),Object(j.jsx)(i.a,{autoClose:3e3,theme:"colored"}),Object(j.jsx)("h1",{className:d.a.title,children:"Enter name image!"})]}):"pending"===F?Object(j.jsx)("div",{children:Object(j.jsx)(L,{})}):"rejected"===F?Object(j.jsx)("h2",{children:S.message}):"resolved"===F?Object(j.jsxs)("div",{className:d.a.App,children:[Object(j.jsx)(_,{onSubmit:V}),Object(j.jsx)(v,{hits:u,toggleModal:Y,handleSetLargeImageURL:function(e){var t=e.largeImageURL,a=e.tags;Q(t),A(a)}}),0!==u.length&&Object(j.jsx)(k,{onClick:function(){f((function(e){return e+1}))}}),0===u.length&&Object(j.jsxs)("h1",{className:d.a.title,children:["No results ",a," were found for your search....\ud83d\ude2d"]}),G&&Object(j.jsx)(b,{onClose:Y,children:Object(j.jsx)("img",{className:d.a.img_Modal,src:R,alt:q})})]}):void 0}o.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(C,{})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.ee540904.chunk.js.map